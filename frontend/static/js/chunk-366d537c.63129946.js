(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-366d537c"],{"58e9":function(t,e,i){},"904d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px"},shadow:"never"}},[i("div",{staticClass:"recent-items"},[i("el-table",{attrs:{data:t.dataResult,"max-height":"455"},on:{"row-click":t.handleClick}},[i("el-table-column",{attrs:{width:"40"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[i("svg-icon",{staticClass:"icon-window",attrs:{"icon-class":e.icon}})]}}])}),i("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(e){return[i("el-input",{attrs:{size:"mini",metadata:e,placeholder:t.$t("table.dataTable.search")},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})]}},{key:"default",fn:function(e){var n=e.row;return[i("span",[t._v(t._s(n.name))]),i("el-tag",{staticClass:"action-tag",attrs:{size:"mini"}},[t._v(" "+t._s(t.$t("views."+n.action))+" ")]),i("br"),i("el-button-group",{staticClass:"actions-buttons"},[i("el-tooltip",{attrs:{content:t.$t("quickAccess.newRecord"),placement:"top"}},["window"===n.action?i("el-button",{attrs:{size:"mini",circle:""},on:{click:function(e){return e.stopPropagation(),t.windowAction(n,"create-new")}}},[i("i",{staticClass:"el-icon-circle-plus-outline"})]):t._e()],1),i("el-tooltip",{attrs:{content:t.$t("quickAccess.listRecords"),placement:"top"}},["window"===n.action?i("el-button",{attrs:{size:"mini",circle:""},on:{click:function(e){return e.stopPropagation(),t.windowAction(n,"listRecords")}}},[i("i",{staticClass:"el-icon-search"})]):t._e()],1)],1)]}}])})],1)],1)])},s=[],a=(i("99af"),i("4de4"),i("caad"),i("d81d"),i("b0c0"),i("d3b7"),i("ac1f"),i("2532"),i("5319"),i("841c"),i("5530")),r=i("1f00"),o=i("bb44"),c=i("3fbe"),u=i("8839"),l={name:"Favorites",props:{metadata:{type:Object,required:!0}},data:function(){return{favorites:[],unsubscribe:function(){},isLoaded:!0,search:"",accentRegexp:/[\u0300-\u036f]/g}},computed:{cachedViews:function(){return this.$store.getters.cachedViews},dataResult:function(){return this.search.length?this.filterResult(this.search):this.favorites},permissionRoutes:function(){return this.$store.getters.permission_routes}},mounted:function(){this.getFavoritesList(),this.unsubscribe=this.subscribeChanges()},beforeDestroy:function(){this.unsubscribe()},methods:{showMessage:u["a"],getFavoritesList:function(){var t=this,e=this.$store.getters["user/getUserUuid"];return new Promise((function(i){Object(r["a"])({userUuid:e}).then((function(e){var n=e.favoritesList.map((function(t){var e=Object(o["b"])(t.action);return Object(a["a"])(Object(a["a"])({},t),{},{uuid:t.menuUuid,name:t.menuName,description:t.menuDescription,action:e.name,icon:e.icon})}));t.favorites=n,i(n)})).catch((function(t){console.warn("Error getting favorites: ".concat(t.message,". Code: ").concat(t.code,"."))}))}))},subscribeChanges:function(){var t=this;return this.$store.subscribe((function(e,i){"notifyDashboardRefresh"===e.type&&t.getFavoritesList()}))},handleClick:function(t){var e,i,n=Object(c["g"])({treeData:this.permissionRoutes,attributeValue:t.referenceUuid,attributeName:"meta",secondAttribute:"uuid",attributeChilds:"children"});n?(this.isEmptyValue(t.uuidRecord)||(e=t.uuidRecord),"window"===t.action&&(i=0),this.$router.push({name:n.name,query:{action:e,tabParent:i}})):this.showMessage({type:"error",message:this.$t("notifications.noRoleAccess")})},filterResult:function(t){var e=this;return this.favorites.filter((function(i){return e.ignoreAccent(i.name).toLowerCase().includes(e.ignoreAccent(t.toLowerCase()))}))},ignoreAccent:function(t){return t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):""},translateDate:function(t){return this.$d(new Date(t),"long",this.language)},windowAction:function(t,e){var i=Object(c["g"])({treeData:this.permissionRoutes,attributeValue:t.referenceUuid,attributeName:"meta",secondAttribute:"uuid",attributeChilds:"children"});i?this.$router.push({name:i.name,query:{action:e,tabParent:0}}):this.showMessage({type:"error",message:this.$t("notifications.noRoleAccess")})}}},d=l,h=(i("b0f5"),i("2877")),f=Object(h["a"])(d,n,s,!1,null,"4c459a12",null);e["default"]=f.exports},b0f5:function(t,e,i){"use strict";var n=i("58e9"),s=i.n(n);s.a}}]);