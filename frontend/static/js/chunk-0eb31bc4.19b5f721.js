(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eb31bc4","chunk-2d222597"],{"02e1":function(e,t,i){"use strict";var n=i("3202"),a=i.n(n);a.a},1:function(e,t){},2:function(e,t){},"2b59":function(e,t,i){},"2f9f":function(e,t,i){"use strict";var n=i("a7d0"),a=i.n(n);a.a},3:function(e,t){},3202:function(e,t,i){},4204:function(e,t,i){"use strict";var n=i("aad5"),a=i.n(n);a.a},4675:function(e,t,i){"use strict";var n=i("ea4c"),a=i.n(n);a.a},"4bf8":function(e,t,i){"use strict";i.r(t),i.d(t,"export_table_to_excel",(function(){return d})),i.d(t,"export_json_to_excel",(function(){return h}));i("99af"),i("4160"),i("d81d"),i("c19f"),i("ace4"),i("d3b7"),i("25f0"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("159b");var n=i("2909"),a=i("1146"),r=i.n(a);function s(e){for(var t=[],i=e.querySelectorAll("tr"),n=[],a=0;a<i.length;++a){for(var r=[],s=i[a],o=s.querySelectorAll("td"),l=0;l<o.length;++l){var c=o[l],u=c.getAttribute("colspan"),d=c.getAttribute("rowspan"),h=c.innerText;if(""!==h&&h==+h&&(h=+h),n.forEach((function(e){if(a>=e.s.r&&a<=e.e.r&&r.length>=e.s.c&&r.length<=e.e.c)for(var t=0;t<=e.e.c-e.s.c;++t)r.push(null)})),(d||u)&&(d=d||1,u=u||1,n.push({s:{r:a,c:r.length},e:{r:a+d-1,c:r.length+u-1}})),r.push(""!==h?h:null),u)for(var p=0;p<u-1;++p)r.push(null)}t.push(r)}return[t,n]}function o(e,t){t&&(e+=1462);var i=Date.parse(e);return(i-new Date(Date.UTC(1899,11,30)))/864e5}function l(e,t){for(var i={},n={s:{c:1e7,r:1e7},e:{c:0,r:0}},a=0;a!=e.length;++a)for(var s=0;s!=e[a].length;++s){n.s.r>a&&(n.s.r=a),n.s.c>s&&(n.s.c=s),n.e.r<a&&(n.e.r=a),n.e.c<s&&(n.e.c=s);var l={v:e[a][s]};if(null!=l.v){var c=r.a.utils.encode_cell({c:s,r:a});"number"===typeof l.v?l.t="n":"boolean"===typeof l.v?l.t="b":l.v instanceof Date?(l.t="n",l.z=r.a.SSF._table[14],l.v=o(l.v)):l.t="s",i[c]=l}}return n.s.c<1e7&&(i["!ref"]=r.a.utils.encode_range(n)),i}function c(){if(!(this instanceof c))return new c;this.SheetNames=[],this.Sheets={}}function u(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!=e.length;++n)i[n]=255&e.charCodeAt(n);return t}function d(e){var t=document.getElementById(e),i=s(t),n=i[1],a=i[0],o="SheetJS",d=new c,h=l(a);h["!merges"]=n,d.SheetNames.push(o),d.Sheets[o]=h;var p=r.a.write(d,{bookType:"xlsx",bookSST:!1,type:"binary"});saveAs(new Blob([u(p)],{type:"application/octet-stream"}),"test.xlsx")}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiHeader,i=void 0===t?[]:t,a=e.header,s=e.data,o=e.filename,d=e.merges,h=void 0===d?[]:d,p=e.autoWidth,f=void 0===p||p,m=e.bookType,g=void 0===m?"xlsx":m;o=o||"excel-list",s=Object(n["a"])(s),s.unshift(a);for(var b=i.length-1;b>-1;b--)s.unshift(i[b]);var w="SheetJS",y=new c,v=l(s);if(h.length>0&&(v["!merges"]||(v["!merges"]=[]),h.forEach((function(e){v["!merges"].push(r.a.utils.decode_range(e))}))),f){for(var S=s.map((function(e){return e.map((function(e){return null==e?{wch:10}:e.toString().charCodeAt(0)>255?{wch:2*e.toString().length}:{wch:e.toString().length}}))})),T=S[0],x=1;x<S.length;x++)for(var C=0;C<S[x].length;C++)T[C]["wch"]<S[x][C]["wch"]&&(T[C]["wch"]=S[x][C]["wch"]);v["!cols"]=T}y.SheetNames.push(w),y.Sheets[w]=v;var $=r.a.write(y,{bookType:g,bookSST:!1,type:"binary"});saveAs(new Blob([u($)],{type:"application/octet-stream"}),"".concat(o,".").concat(g))}i("0fd4")},"4ead":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isLoaded?i("el-container",{key:"browser-loaded",staticClass:"view-base",staticStyle:{height:"86vh"}},[i("modal-dialog",{attrs:{"container-uuid":e.browserUuid,"panel-type":e.panelType}}),e.showContextMenu?i("el-header",[i("context-menu",{attrs:{"menu-parent-uuid":e.$route.meta.parentUuid,"container-uuid":e.browserUuid,"panel-type":e.panelType}}),i("div",{staticClass:"w-33"},[i("div",{staticClass:"center"},[i("el-button",{directives:[{name:"popover",rawName:"v-popover:helpTitle",arg:"helpTitle"}],class:e.cssClassTitle+" warn-content text-center",attrs:{type:"text"}},[e._v(" "+e._s(e.browserTitle)+" ")])],1)]),e.isEmptyValue(e.browserMetadata.help)?e._e():i("el-popover",{ref:"helpTitle",class:e.cssClassHelp,attrs:{placement:"top-start",title:e.browserTitle,width:"400",trigger:"hover"}},[i("div",{domProps:{innerHTML:e._s(e.browserMetadata.help)}})])],1):e._e(),i("el-main",[i("el-collapse",{staticClass:"container-collasep-open",on:{change:e.handleChange},model:{value:e.activeSearch,callback:function(t){e.activeSearch=t},expression:"activeSearch"}},[i("el-collapse-item",{attrs:{title:e.$t("views.searchCriteria"),name:"opened-criteria"}},[i("main-panel",{attrs:{"container-uuid":e.browserUuid,metadata:e.browserMetadata,"panel-type":e.panelType}})],1)],1),e.isLoaded?i("data-table",{attrs:{"container-uuid":e.browserUuid,"panel-type":e.panelType,metadata:e.browserMetadata}}):e._e()],1)],1):i("div",{directives:[{name:"loading",rawName:"v-loading",value:!e.isLoaded,expression:"!isLoaded"}],key:"browser-loading",staticClass:"loading-browser",attrs:{"element-loading-text":e.$t("notifications.loading"),"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"}})},a=[],r=(i("b0c0"),i("d3b7"),i("7d13")),s=i("2d61"),o=i("5393"),l=i("5c32"),c={name:"BrowserView",components:{MainPanel:s["a"],DataTable:o["a"],ContextMenu:r["a"],ModalDialog:l["a"]},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{browserMetadata:{},browserUuid:this.$route.meta.uuid,activeSearch:[],isLoaded:!1,panelType:"browser"}},computed:{showContextMenu:function(){return this.$store.state.settings.showContextMenu},getterBrowser:function(){return this.$store.getters.getBrowser(this.browserUuid)},browserTitle:function(){return this.browserMetadata.name||this.$route.meta.title},isLoadedRecords:function(){return this.$store.getters.getDataRecordAndSelection(this.browserUuid).isLoaded},getContainerIsReadyForSubmit:function(){return!this.$store.getters.isNotReadyForSubmit(this.browserUuid)&&!this.browserMetadata.awaitForValuesToQuery},isMobile:function(){return"mobile"===this.$store.state.app.device},cssClassTitle:function(){return this.isMobile?"title-mobile":"title"},cssClassHelp:function(){return this.isMobile?"content-help-mobile":"content-help"},isShowedCriteria:function(){return!!this.getterBrowser&&this.getterBrowser.isShowedCriteria}},watch:{isShowedCriteria:function(e){var t=[];e&&t.push("opened-criteria"),this.activeSearch=t}},created:function(){this.getBrowser()},methods:{handleChange:function(e){var t=!1;this.activeSearch.length&&(t=!0),this.$store.dispatch("changeBrowserAttribute",{containerUuid:this.browserUuid,attributeName:"isShowedCriteria",attributeValue:t})},getBrowser:function(){var e=this,t=this.getterBrowser;if(t)return this.browserMetadata=t,this.isLoaded=!0,void this.defaultSearch();this.$store.dispatch("getPanelAndFields",{containerUuid:this.browserUuid,panelType:this.panelType,routeToDelete:this.$route}).then((function(t){e.browserMetadata=t,e.defaultSearch()})).finally((function(){e.isLoaded=!0}))},defaultSearch:function(){this.activeSearch=[],this.browserMetadata.isShowedCriteria&&(this.activeSearch=["opened-criteria"]),this.isLoadedRecords?this.$store.dispatch("setRecordSelection",{containerUuid:this.browserUuid,panelType:this.panelType}):this.getContainerIsReadyForSubmit&&this.$store.dispatch("getBrowserSearch",{containerUuid:this.browserUuid})}}},u=c,d=(i("4204"),i("ea97"),i("2877")),h=Object(d["a"])(u,n,a,!1,null,"e8fdef12",null);t["default"]=h.exports},5393:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isLoadPanel?i("el-container",{staticStyle:{height:"inherit"},attrs:{"label-position":"top"}},[i("el-main",{staticStyle:{padding:"0px !important",overflow:"hidden"}},[i("el-container",{staticStyle:{height:"100%"}},[i("el-header",{style:e.tableHeaderStyle},[e.isParent?i("el-collapse",{directives:[{name:"shortkey",rawName:"v-shortkey",value:{f6:["f6"],ctrlf:["ctrl","f"]},expression:"{ f6: ['f6'], ctrlf: ['ctrl', 'f'] }"}],nativeOn:{shortkey:function(t){return e.actionAdvancedQuery()}},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-collapse-item",{attrs:{title:e.$t("table.dataTable.advancedQuery"),name:"1"}},[i("main-panel",{class:e.isEmptyValue(e.activeName)?"collapse_item":"collapse_item_wrap",attrs:{"container-uuid":e.containerUuid,"parent-uuid":e.parentUuid,metadata:e.getterPanel,"panel-type":"table","is-advanced-query":""}})],1)],1):e._e(),i("div",[e.isMobile?i("div",[e.isParent?i("div",{staticClass:"panel-expand"},[i("div",{staticClass:"table-search",class:{show:e.showTableSearch}},[i("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(t){return t.stopPropagation(),e.click()}}}),i("el-input",{ref:"headerSearchSelect",staticClass:"header-search-select-mobile",attrs:{size:"mini",placeholder:e.$t("table.dataTable.search"),clearable:""},model:{value:e.searchTable,callback:function(t){e.searchTable=t},expression:"searchTable"}})],1),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isParent&&e.isPanelWindow&&e.isMobile&&e.getDataSelection.length,expression:"isParent && isPanelWindow && isMobile && getDataSelection.length"}],staticStyle:{color:"black","font-size":"17px","font-weight":"605 !important"},attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteSelection()}}}),i("icon-element",{staticStyle:{"padding-top":"0px"},attrs:{icon:"el-icon-news"},on:{click:function(t){return e.searchRecordNavegation()}}},[i("fixed-columns",{staticClass:"header-search-input-mobile",attrs:{"container-uuid":e.containerUuid,"panel-type":e.panelType}})],1)],1):i("div",[i("fixed-columns",{staticClass:"header-search-input",attrs:{"container-uuid":e.containerUuid,"panel-type":e.panelType}}),e.isShowOptionalColumns?i("filter-columns",{staticClass:"field-optional",attrs:{"container-uuid":e.containerUuid,"panel-type":e.panelType}}):e._e(),i("div",{staticClass:"table-search",class:{show:e.showTableSearch}},[i("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(t){return t.stopPropagation(),e.click()}}}),i("el-input",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{size:"mini",placeholder:e.$t("table.dataTable.search"),clearable:""},model:{value:e.searchTable,callback:function(t){e.searchTable=t},expression:"searchTable"}})],1)],1)]):i("div",[i("table-main-menu",{attrs:{"container-uuid":e.containerUuid,"parent-uuid":e.parentUuid,"panel-type":e.panelType,"is-parent":e.isParent,"is-panel-window":e.isPanelWindow,"process-menu":e.getterContextMenu,"is-mobile":e.isMobile,"panel-metadata":e.getterPanel}}),!e.isParent&&e.isPanelWindow?i("el-button",{staticStyle:{float:"right","padding-top":"8px","font-size":"larger","padding-left":"6px",color:"gray"},attrs:{type:"text",icon:e.getterNewRecords<=0?"el-icon-circle-plus":"el-icon-remove",disabled:e.getterNewRecords<=0&&e.isDisabledAddNew},on:{click:function(t){e.getterNewRecords<=0?e.addNewRow():e.callOffNewRecord()}}}):e._e(),e.isMobile?e._e():i("icon-element",{attrs:{icon:"el-icon-news"}},[i("fixed-columns",{staticClass:"header-search-input",attrs:{"container-uuid":e.containerUuid,"panel-type":e.panelType}})],1),e.isShowOptionalColumns?i("filter-columns",{staticClass:"field-optional",attrs:{"container-uuid":e.containerUuid,"panel-type":e.panelType}}):e._e(),i("div",{staticClass:"table-search",class:{show:e.showTableSearch}},[i("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(t){return t.stopPropagation(),e.click()}}}),i("el-input",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{size:"mini",placeholder:e.$t("table.dataTable.search")},model:{value:e.searchTable,callback:function(t){e.searchTable=t},expression:"searchTable"}})],1)],1)])],1),i("el-main",{staticStyle:{padding:"0px !important",overflow:"hidden"}},[i("table-context-menu",{directives:[{name:"show",rawName:"v-show",value:e.isParent?e.getShowContextMenuTable:e.getShowContextMenuTabChildren,expression:"isParent ? getShowContextMenuTable : getShowContextMenuTabChildren"}],staticClass:"contextual-menu",style:{left:e.leftContextualMenu+"px",top:e.topContextualMenu+"px"},attrs:{"container-uuid":e.containerUuid,"parent-uuid":e.parentUuid,"panel-type":e.panelType,"current-row":e.currentRowMenu,"is-panel-window":e.isPanelWindow,"process-menu":e.getterContextMenu,"is-mobile":e.isMobile,"panel-metadata":e.getterPanel}}),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:"create-new"!==e.$route.query.action&&e.isLoaded,expression:"$route.query.action !== 'create-new' && isLoaded"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:e.getHeigthTable,border:"","row-key":e.getterPanel.keyColumn,"reserve-selection":"","highlight-current-row":"","row-style":e.rowStyle,data:e.showTableSearch?e.filterResult():e.getterDataRecords,"element-loading-text":e.$t("notifications.loading"),"element-loading-background":"rgba(255, 255, 255, 0.8)","element-loading-spinner":"el-icon-loading","cell-class-name":"datatable-max-cell-height","show-summary":e.getterPanel.isShowedTotals,"row-class-name":e.tableRowClassName,"summary-method":e.getSummaries},on:{"row-click":e.handleRowClick,"row-dblclick":e.handleRowDblClick,select:e.handleSelection,"select-all":e.handleSelectionAll,"row-contextmenu":e.rowMenu},nativeOn:{contextmenu:function(t){return t.preventDefault(),e.block(t)}}},[e.isTableSelection?i("el-table-column",{attrs:{type:"selection",prop:e.getterPanel.keyColumn,fixed:"","min-width":"50"}}):e._e(),e._l(e.fieldsList,(function(t,n){return[e.isDisplayed(t)?i("el-table-column",{key:n,attrs:{label:e.headerLabel(t),"column-key":t.columnName,prop:t.columnName,sortable:"",formatter:e.changeOrder,"min-width":"200","class-name":e.cellClass(t),fixed:t.isFixedTableColumn},scopedSlots:e._u([{key:"default",fn:function(n){return[e.rowCanBeEdited(n.row,t)?[i("field-definition",{attrs:{"is-data-table":!0,"is-show-label":!1,"in-table":!0,"metadata-field":Object.assign({},t,{displayColumn:n.row["DisplayColumn_"+t.columnName],tableIndex:n.$index,rowKey:n.row[e.getterPanel.keyColumn],keyColumn:e.getterPanel.keyColumn,recordUuid:n.row.UUID}),"record-data-fields":n.row[t.columnName],size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmEdit(n.row)}}})]:["DocStatus"===t.columnName||"O_DocStatus"===t.columnName?i("el-tag",{style:e.getFieldDefinition(t.fieldDefinition,n.row),attrs:{type:"DocStatus"===t.columnName?e.tagStatus(n.row.DocStatus):e.tagStatus(n.row.O_DocStatus),"disable-transitions":""}},[e._v(" "+e._s(e.displayedValue(n.row,t))+" ")]):i("span",{style:e.getFieldDefinition(t.fieldDefinition,n.row)},[e._v(" "+e._s(e.displayedValue(n.row,t))+" ")])]]}}],null,!0)}):e._e()]}))],2)],1)],1)],1),i("el-footer",{staticStyle:{height:"30px"}},[i("div",{staticStyle:{float:"right"}},[i("el-pagination",{attrs:{small:"",layout:"slot, total, prev, pager, next","current-page":e.pageNumber,"page-size":e.defaultMaxPagination,total:e.getterRecordCount},on:{"current-change":e.handleChangePage},scopedSlots:e._u([{key:"default",fn:function(){return[i("span",[e._v(" "+e._s(e.$t("table.dataTable.selected"))+": "+e._s(e.getDataSelection.length)+" / ")])]},proxy:!0}],null,!1,2034679428)})],1)])],1):e._e()},a=[],r=(i("99af"),i("a623"),i("4de4"),i("7db0"),i("c740"),i("4160"),i("caad"),i("d81d"),i("13d5"),i("fb6a"),i("a434"),i("b0c0"),i("a9e3"),i("b680"),i("b64b"),i("d3b7"),i("ac1f"),i("25f0"),i("2532"),i("5319"),i("498a"),i("159b"),i("5530")),s=(i("96cf"),i("1da1")),o=i("2cb9"),l=i("aa47"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",{staticClass:"select",attrs:{filterable:!e.isMobile,placeholder:e.$t("components.filterableItems"),multiple:"",size:"mini","collapse-tags":"","value-key":"key"},model:{value:e.getterFieldListShowed,callback:function(t){e.getterFieldListShowed=t},expression:"getterFieldListShowed"}},e._l(e.getterFieldListAvailable,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.columnName}})})),1)},u=[],d={name:"FilterColumns",props:{containerUuid:{type:String,required:!0}},computed:{isMobile:function(){return"mobile"===this.$store.state.app.device},getterFieldList:function(){return this.$store.getters.getFieldsListFromPanel(this.containerUuid)},getterFieldListAvailable:function(){return this.getterFieldList.filter((function(e){var t=e.isDisplayed||e.isDisplayedFromLogic;return e.isActive&&t&&!e.isKey}))},getterFieldListShowed:{get:function(){return this.getterFieldList.filter((function(e){if(e.isShowedTableFromUser&&(e.isDisplayed||e.isDisplayedFromLogic)&&!e.isKey)return!0})).map((function(e){return e.columnName}))},set:function(e){this.addField(e)}}},methods:{addField:function(e){this.$store.dispatch("changeFieldAttributesBoolean",{containerUuid:this.containerUuid,fieldsIncludes:e,attribute:"isShowedTableFromUser",valueAttribute:!0})}}},h=d,p=i("2877"),f=Object(p["a"])(h,c,u,!1,null,null,null),m=f.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",{attrs:{filterable:!e.isMobile,placeholder:e.$t("components.fixedleItems"),multiple:"",size:"mini","collapse-tags":"","value-key":"key"},on:{change:e.addField},model:{value:e.columnsFixed,callback:function(t){e.columnsFixed=t},expression:"columnsFixed"}},e._l(e.columnListAvailable,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.columnName}})})),1)},b=[],w={name:"FixedColumns",props:{containerUuid:{type:String,required:!0}},data:function(){return{columnsFixed:[],columnListAvailable:[]}},computed:{isMobile:function(){return"mobile"===this.$store.state.app.device},getterFieldList:function(){return this.$store.getters.getFieldsListFromPanel(this.containerUuid)}},created:function(){this.getPanel()},methods:{getPanel:function(){var e=this.getterFieldList;e&&e.length&&this.generatePanel(e)},generatePanel:function(e){var t=this;this.columnListAvailable=e.filter((function(e){return t.isDisplayed(e)}))},isDisplayed:function(e){var t=e.isActive&&e.isDisplayed&&e.isDisplayedFromLogic&&!e.isKey;return e.isFixedTableColumn&&e.isDisplayed&&this.columnsFixed.push(e.columnName),t},addField:function(e){this.$store.dispatch("changeFieldAttributesBoolean",{containerUuid:this.containerUuid,fieldsIncludes:e,attribute:"isFixedTableColumn",valueAttribute:!0})}}},y=w,v=Object(p["a"])(y,g,b,!1,null,null,null),S=v.exports,T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-menu",{attrs:{collapse:e.isCollapse}},[i("el-submenu",{attrs:{index:"xlsx"},nativeOn:{click:function(t){return e.exportRecord(e.defaultFromatExport)}}},[i("template",{slot:"title"},[e._v(" "+e._s(e.$t("data.exportRecord"))+" ")]),e._l(e.supportedTypes,(function(t,n){return i("el-menu-item",{key:n,attrs:{index:n},nativeOn:{click:function(t){return e.exportRecord(n)}}},[e._v(" "+e._s(t)+" ")])}))],2),"window"===e.panelType?i("el-menu-item",{attrs:{index:"delete"},on:{click:function(t){return e.deleteRecord()}}},[e._v(" "+e._s(e.$t("window.deleteRecord"))+" ")]):e._e(),e._l(e.processMenu,(function(t,n){return i("el-menu-item",{key:n,attrs:{index:"process"+n},on:{click:function(i){return e.showModalTable(t)}}},[e._v(" "+e._s(t.name)+" ")])}))],2)},x=[],C=i("ade3"),$=i("cff1"),U=i("8839"),D=i("3fbe"),P=i("0635"),R={props:{parentUuid:{type:String,default:void 0},containerUuid:{type:String,required:!0},panelType:{type:String,default:"window"},currentRow:{type:Object,default:function(){}},isParent:{type:Boolean,default:!1},processMenu:{type:Array,default:function(){return[]}},isPanelWindow:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1},panelMetadata:{type:Object,default:function(){}},defaultFromatExport:{type:String,default:"xlsx"}},data:function(){return{supportedTypes:$["c"],menuTable:"1",isCollapse:!0}},computed:{classTableMenu:function(){return this.isMobile?"menu-table-mobile":"menu-table"},getterDataRecordsAndSelection:function(){return this.$store.getters.getDataRecordAndSelection(this.containerUuid)},getterNewRecords:function(){if(this.isPanelWindow&&!this.isParent){var e=this.getterDataRecordsAndSelection.record.filter((function(e){return e.isNew}));return e.length}return 0},getDataSelection:function(){return this.getterDataRecordsAndSelection.selection},getDataAllRecord:function(){return this.getterDataRecordsAndSelection.record},fieldsList:function(){return this.panelMetadata&&this.panelMetadata.fieldList?this.panelMetadata.fieldList:[]},isReadOnlyParent:function(){if(this.isPanelWindow){if(!1===this.$store.getters.getContextIsActive(this.parentUuid))return!0;if(!0===this.$store.getters.getContextProcessing(this.parentUuid)||"Y"===this.$store.getters.getContextProcessing(this.parentUuid))return!0;if(this.$store.getters.getContextProcessed(this.parentUuid))return!0}return!1},isDisabledAddNew:function(){return!!this.isParent||("create-new"===this.$route.query.action||(!this.panelMetadata.isInsertRecord||(!!this.isReadOnlyParent||!!this.getterNewRecords)))},isFieldsQuantity:function(){var e=this.getterFieldList.filter((function(e){return P["g"].includes(e.displayType)})).length;return!e},getterFieldList:function(){return this.$store.getters.getFieldsListFromPanel(this.containerUuid)},getterFieldListHeader:function(){var e=this.getterFieldList.filter((function(e){var t=e.isDisplayed||e.isDisplayedFromLogic;if(e.isActive&&t&&!e.isKey)return e.name}));return e.map((function(e){return e.name}))},getterFieldListValue:function(){var e=this.getterFieldList.filter((function(e){var t=e.isDisplayed||e.isDisplayedFromLogic;if(e.isActive&&t&&!e.isKey)return e}));return e.map((function(e){return"FieldSelect"===e.componentPath?"DisplayColumn_"+e.columnName:e.columnName}))},permissionRoutes:function(){return this.$store.getters.permission_routes}},methods:{showNotification:U["b"],sortTab:function(e){this.$store.dispatch("setShowDialog",{type:"window",action:e,parentRecordUuid:this.$route.query.action})},closeMenu:function(){this.$store.dispatch("showMenuTable",{isShowedTable:!1}),this.$store.dispatch("showMenuTabChildren",{isShowedTabChildren:!1})},showModalTable:function(e){var t=this,i=this.$store.getters.getProcess(e.uuid);if(this.currentRow){var n,a=this.currentRow;for(var r in a)r===this.panelMetadata.keyColumn&&(n=a[r]);this.$store.dispatch("setProcessTable",{valueRecord:n,tableName:this.panelMetadata.keyColumn,processTable:!0})}else this.$store.dispatch("setProcessSelect",{selection:this.getDataSelection,processTablaSelection:!0,tableName:this.panelMetadata.keyColumn});void 0===i?this.$store.dispatch("getProcessFromServer",{containerUuid:e.uuid,routeToDelete:this.$route}).then((function(i){t.$store.dispatch("setShowDialog",{type:e.type,action:i,record:t.getDataSelection})})).catch((function(e){console.warn("ContextMenu: Dictionary Process (State) - Error ".concat(e.code,": ").concat(e.message,"."))})):this.$store.dispatch("setShowDialog",{type:e.type,action:i})},showTotals:function(){this.$store.dispatch("changePanelAttributesBoolean",{containerUuid:this.containerUuid,attributeName:"isShowedTotals"})},showOnlyMandatoryColumns:function(){this.$store.dispatch("showOnlyMandatoryColumns",{containerUuid:this.containerUuid})},showAllAvailableColumns:function(){this.$store.dispatch("showAllAvailableColumns",{containerUuid:this.containerUuid})},deleteSelection:function(){var e=this;this.$store.dispatch("deleteSelectionDataList",{parentUuid:this.parentUuid,containerUuid:this.containerUuid}).then((function(){e.$store.dispatch("setRecordSelection",{parentUuid:e.parentUuid,containerUuid:e.containerUuid,panelType:e.panelType})}))},addNewRow:function(){if(this.getterNewRecords<=0)this.$store.dispatch("addNewRow",{parentUuid:this.parentUuid,containerUuid:this.containerUuid,fieldList:this.fieldsList,isEdit:!0,isSendServer:!1});else{var e=this.$store.getters.getFieldListEmptyMandatory({containerUuid:this.containerUuid});this.$message({message:this.$t("notifications.mandatoryFieldMissing")+e,type:"info"})}},showOptionalColums:function(){this.$store.dispatch("changePanelAttributesBoolean",{containerUuid:this.containerUuid,attributeName:"isShowedTableOptionalColumns"})},exporRecordTable:function(e){var t=this.getterFieldListHeader,i=this.getterFieldListValue,n=this.getDataSelection;"tableContextMenu"===this.menuType&&(n=[this.currentRow]);var a=this.formatJson(i,n);Object($["a"])({header:t,data:a,filename:"",exportType:e}),this.closeMenu()},exporZipRecordTable:function(){var e=this.getterFieldListHeader,t=this.getterFieldListValue,i=this.getDataSelection;this.getDataSelection.length<=0&&(i=this.getDataAllRecord);var n=this.formatJson(t,i);Object($["b"])({header:e,data:n,title:this.$route.meta.title,exportType:"zip"})},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},zoomRecord:function(){var e=this.$store.getters.getBrowser(this.$route.meta.uuid),t=e.fieldList.find((function(t){return t.columnName===e.keyColumn})),i=t.elementName,n=[];this.getDataSelection.forEach((function(t){isNaN(t[e.keyColumn])?n.push(t[e.keyColumn]):n.push(Number(t[e.keyColumn]))}));var a=Object(D["g"])({treeData:this.permissionRoutes,attributeValue:e.window.uuid,attributeName:"meta",secondAttribute:"uuid",attributeChilds:"children"});a&&this.$router.push({name:a.name,query:Object(C["a"])({action:"advancedQuery"},i,n)})}}},M={name:"TableContextMenu",mixins:[R],data:function(){return{menuType:"tableContextMenu"}},methods:{deleteRecord:function(){this.$store.dispatch("deleteEntity",{parentUuid:this.parentUuid,containerUuid:this.containerUuid,row:this.currentRow})}}},_=M,k=Object(p["a"])(_,T,x,!1,null,null,null),N=k.exports,F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-menu",{class:e.classTableMenu+" menu-table-container",attrs:{"default-active":e.menuTable,mode:"horizontal"}},[i("el-submenu",{attrs:{index:"2"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-more"})]),!e.isParent&&e.isPanelWindow?i("el-menu-item",{attrs:{disabled:e.isDisabledAddNew},on:{click:function(t){return e.addNewRow()}}},[e._v(" "+e._s(e.$t("window.newRecord"))+" ")]):e._e(),e.isPanelWindow?i("el-menu-item",{attrs:{disabled:Boolean(e.getDataSelection.length<1||e.isReadOnlyParent&&!e.isParent)},on:{click:function(t){return e.deleteSelection()}}},[e._v(" "+e._s(e.$t("table.dataTable.deleteSelection"))+" ")]):e._e(),e.isPanelWindow&&!e.isEmptyValue(e.processMenu)?e._l(e.processMenu,(function(t,n){return i("el-menu-item",{key:n,attrs:{disabled:"application"!==t.type&&Boolean(e.getDataSelection.length<1),index:"process"},on:{click:function(i){"application"===t.type?e.sortTab(t):e.showModalTable(t)}}},[e._v(" "+e._s(t.name)+" ")])})):e._e(),i("el-menu-item",{on:{click:e.exporZipRecordTable}},[e._v(" "+e._s(e.$t("table.dataTable.exportZip"))+" ")]),i("el-submenu",{attrs:{disabled:Boolean(e.getDataSelection.length<1),index:"xlsx"},nativeOn:{click:function(t){return e.exporRecordTable(e.defaultFromatExport)}}},[i("template",{slot:"title"},[e._v(" "+e._s(e.$t("table.dataTable.exportRecordTable"))+" ")]),e._l(e.supportedTypes,(function(t,n){return i("el-menu-item",{key:n,attrs:{index:n},nativeOn:{click:function(t){return e.exporRecordTable(n)}}},[e._v(" "+e._s(t)+" ")])}))],2),i("el-menu-item",{attrs:{index:"optional"},on:{click:function(t){return e.showOptionalColums()}}},[e._v(" "+e._s(e.$t("components.filterableItems"))+" ")]),i("el-menu-item",{attrs:{index:"mandatory"},on:{click:function(t){return e.showOnlyMandatoryColumns()}}},[e._v(" "+e._s(e.$t("table.dataTable.showOnlyMandatoryColumns"))+" ")]),i("el-menu-item",{attrs:{index:"available"},on:{click:function(t){return e.showAllAvailableColumns()}}},[e._v(" "+e._s(e.$t("table.dataTable.showAllAvailableColumns"))+" ")]),i("el-menu-item",{attrs:{disabled:e.isFieldsQuantity},on:{click:function(t){return e.showTotals()}}},[e._v(" "+e._s(e.panelMetadata.isShowedTotals?e.$t("table.dataTable.hiddenTotal"):e.$t("table.dataTable.showTotal"))+" ")]),e.isPanelWindow?e._e():i("el-menu-item",{attrs:{disabled:Boolean(e.getDataSelection.length<1),index:"zoom-record"},on:{click:function(t){return e.zoomRecord()}}},[e._v(" "+e._s(e.$t("table.ProcessActivity.zoomIn"))+" ")])],2)],1)},L=[],A={name:"TableMainMenu",mixins:[R],data:function(){return{menuType:"tableMainMenu"}}},O=A,E=(i("2f9f"),Object(p["a"])(O,F,L,!1,null,null,null)),I=E.exports,B=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-detail",class:{"show-input-search":e.isShowElement}},[i("i",{class:e.icon+" props-icon",on:{click:function(t){return t.stopPropagation(),e.click(t)}}}),e._t("default")],2)},j=[],H={name:"IconElement",props:{icon:{type:String,required:!0}},data:function(){return{isShowElement:!1}},watch:{isShowElement:function(e){e?document.body.addEventListener("click",this.close):document.body.removeEventListener("click",this.close)}},methods:{click:function(){this.isShowElement=!this.isShowElement,this.isShowElement&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},close:function(){this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.blur(),this.options=[],this.show=!1}}},W=H,q=(i("f7f9"),Object(p["a"])(W,B,j,!1,null,null,null)),V=q.exports,z=i("5ff5"),K=i("2d61"),Q=i("bb44"),J=i("799c"),X=i("1ecc"),Y={name:"DataTable",components:{FieldDefinition:o["a"],FilterColumns:m,FixedColumns:S,IconElement:V,MainPanel:K["a"],TableContextMenu:N,TableMainMenu:I},props:{parentUuid:{type:String,default:void 0},containerUuid:{type:String,required:!0},panelType:{type:String,default:"window"},isParent:{type:Boolean,default:!1},isSearchable:{type:Boolean,default:!1},isTableSelection:{type:Boolean,default:!0},isShowedPanelRecord:{type:Boolean,default:!1}},data:function(){var e=[];return this.isParent&&this.$route.query.action&&"advancedQuery"===this.$route.query.action&&e.push("1"),{topContextualMenu:0,leftContextualMenu:0,currentRowMenu:{},currentRow:null,currentTable:0,visible:this.getShowContextMenuTable,searchTable:"",defaultMaxPagination:50,activeName:e,isLoadPanelFromServer:!1,rowStyle:{height:"52px"},sortable:null,uuidCurrentRecordSelected:"",showTableSearch:!1}},computed:{getterContextMenu:function(){var e=this.$store.getters.getContextMenu(this.containerUuid);return e&&!this.isEmptyValue(e.actions)?e.actions.filter((function(e){if("process"===e.type||"application"===e.type)return e})):[]},getShowContextMenuTable:function(){return this.$store.getters.getShowContextMenuTable},getShowContextMenuTabChildren:function(){return this.$store.getters.getShowContextMenuTabChildren},isMobile:function(){return"mobile"===this.$store.state.app.device},getterPanel:function(){return this.$store.getters.getPanel(this.containerUuid)},isShowOptionalColumns:function(){return this.getterPanel.isShowedTableOptionalColumns},getterDataRecordsAndSelection:function(){return this.$store.getters.getDataRecordAndSelection(this.containerUuid)},getterRecordCount:function(){return this.getterDataRecordsAndSelection.recordCount},getterDataRecords:function(){return this.getterDataRecordsAndSelection.record},getterNewRecords:function(){if(this.isPanelWindow&&!this.isParent){var e=this.getterDataRecordsAndSelection.record.filter((function(e){return e.isNew}));return e.length}return 0},pageNumber:function(){return this.getterDataRecordsAndSelection.pageNumber},isLoaded:function(){return!this.getterDataRecordsAndSelection.isLoaded},getDataSelection:function(){return this.getterDataRecordsAndSelection.selection},getterFieldIsDisplayed:function(){return this.$store.getters.getFieldsIsDisplayed(this.containerUuid)},getterIsShowedCriteria:function(){var e=this.$store.getters.getBrowser(this.containerUuid);return!!e&&e.isShowedCriteria},getHeightPanelBottom:function(){return this.$store.getters.getSplitHeight-25},getterHeight:function(){return this.$store.getters.getHeigth},tableHeaderStyle:function(){return this.isParent?this.isEmptyValue(this.activeName)?{height:"17%",overflow:"hidden"}:{height:"55%",overflow:"auto"}:{height:"35px"}},getHeigthTable:function(){var e=0;return this.getterPanel.isShowedTotals&&(e=5),this.isPanelWindow?this.isParent?this.isEmptyValue(this.activeName)?this.getterHeight-210-e:this.getterHeight-420-e:(e&&(e=1),this.getHeightPanelBottom-5-e+"vh"):"browser"===this.panelType?this.getterIsShowedCriteria?this.getterFieldIsDisplayed.isDisplayed?this.getterHeight-495-e:this.getterHeight-415-e:this.getterHeight-290-e:this.getterHeight-300-e},fieldsList:function(){if(this.getterPanel&&this.getterPanel.fieldList){if("window"===this.panelType&&this.isParent||"browser"===this.panelType){var e="seqNoGrid";return"browser"===this.panelType&&(e="sequence"),this.sortFields({fieldsList:this.getterPanel.fieldList,orderBy:e})}return this.getterPanel.fieldList}return[]},isLoadPanel:function(){return!(!this.getterPanel||!this.getterPanel.fieldList)},isPanelWindow:function(){return Boolean("window"===this.panelType)},getterContextClientId:function(){if(this.isPanelWindow)return this.$store.getters.getContextClientId},isReadOnlyParent:function(){if(this.isPanelWindow){if(!1===this.$store.getters.getContextIsActive(this.parentUuid))return!0;if(!0===this.$store.getters.getContextProcessing(this.parentUuid)||"Y"===this.$store.getters.getContextProcessing(this.parentUuid))return!0;if(this.$store.getters.getContextProcessed(this.parentUuid))return!0}return!1},isDisabledAddNew:function(){return!!this.isParent||("create-new"===this.$route.query.action||(!this.getterPanel.isInsertRecord||(!!this.isReadOnlyParent||!!this.getterNewRecords)))},keyUp:function(){return this.currentTable<1?this.currentTable:this.currentTable-1},keyDow:function(){var e=this.getterDataRecords.length-1;return e===this.currentTable?this.currentTable:this.currentTable+1}},watch:{visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},created:function(){this.getPanel()},mounted:function(){this.isTableSelection&&this.toggleSelection(this.getDataSelection)},methods:{actionAdvancedQuery:function(){var e=[];this.activeName.length||e.push("1"),this.activeName=e},setCurrent:function(e){this.$refs.multipleTable.setCurrentRow(e)},theAction:function(e){switch(e.srcKey){case"up":this.currentTable=this.keyUp;break;case"down":this.currentTable=this.keyDow;break}return this.handleRowClick(this.getterDataRecords[this.currentTable]),this.setCurrent(this.getterDataRecords[this.currentTable])},closeMenu:function(){this.$store.dispatch("showMenuTable",{isShowedTable:!1}),this.$store.dispatch("showMenuTabChildren",{isShowedTabChildren:!1})},block:function(){return!1},rowMenu:function(e,t,i){var n=105,a=this.$el.getBoundingClientRect().left,r=this.$el.offsetWidth,s=r-n,o=i.clientX-a+15;this.leftContextualMenu=o,o>s&&(this.leftContextualMenu=s);var l=this.$el.getBoundingClientRect().top,c=i.clientY-l;"browser"===this.panelType&&this.getterPanel.isShowedCriteria&&(c=i.clientY-200),this.topContextualMenu=c,this.currentRowMenu=e,this.visible=!0,this.$store.dispatch("showMenuTable",{isShowedTable:this.isParent}),this.$store.dispatch("showMenuTabChildren",{isShowedTabChildren:!this.isParent})},sortFields:Q["g"],headerLabel:function(e){return e.isMandatory||e.isMandatoryFromLogic?"* "+e.name:e.name},displayedValue:function(e,t){if("boolean"===typeof e[t.columnName])return e[t.columnName]?this.$t("components.switchActiveText"):this.$t("components.switchInactiveText");if("FieldDate"===t.componentPath||"FieldTime"===t.componentPath){var i=e[t.columnName];return"[object Date]"===Object.prototype.toString.call(i)&&(i=i.getTime()),Object(z["b"])(i,t.displayType)}if("FieldNumber"===t.componentPath){if(this.isEmptyValue(e[t.columnName]))return;return this.formatNumber({displayType:t.displayType,number:e[t.columnName]})}return"FieldSelect"===t.componentPath&&this.isEmptyValue(e["DisplayColumn_"+t.columnName])&&0===e[t.columnName]?t.defaultValue:e["DisplayColumn_"+t.columnName]||e[t.columnName]},rowCanBeEdited:function(e,t){if(!this.isParent){if(this.isPanelWindow){if(this.isReadOnlyParent)return!1;if(this.isReadOnlyRow(e,t))return!1}if(this.isReadOnlyCell(e,t))return!1;if(e.isEdit)return!0}return!1},isReadOnlyRow:function(e,t){if(this.getterContextClientId!==parseInt(e.AD_Client_ID,10))return!0;if(Object(J["a"])(t)){var i=P["h"].find((function(t){return!t.isChangedAllForm&&Object.prototype.hasOwnProperty.call(e,t.columnName)}));if(i){var n=e[i.columnName]===i.valueIsReadOnlyForm&&t.columnName!==i.columnName;return n}}return!1},isReadOnlyCell:function(e,t){if(["FieldImage","FieldBinary"].includes(t.componentPath))return!0;var i=t.isReadOnly||t.isReadOnlyFromLogic;if(this.isPanelWindow){if(t.columnName===this.getterPanel.linkColumnName||t.columnName===this.getterPanel.fieldLinkColumnName)return!0;var n=!this.isEmptyValue(e.UUID);return!t.isUpdateable&&n||i||t.isReadOnlyFromForm}return"browser"===this.panelType?t.isReadOnly:i},deleteSelection:function(){var e=this;this.$store.dispatch("deleteSelectionDataList",{parentUuid:this.parentUuid,containerUuid:this.containerUuid}).then((function(){e.$store.dispatch("setRecordSelection",{parentUuid:e.parentUuid,containerUuid:e.containerUuid,panelType:e.panelType})}))},callOffNewRecord:function(){this.getterDataRecords.shift()},tableRowClassName:function(e){var t=e.row,i=e.rowIndex;return t.isNew&&0===i?"warning-row":""},addNewRow:function(){if(this.getterNewRecords<=0)this.$store.dispatch("addNewRow",{parentUuid:this.parentUuid,containerUuid:this.containerUuid,fieldList:this.fieldsList,isEdit:!0,isSendServer:!1}),this.$refs.multipleTable.$refs.bodyWrapper.scrollTop=0;else{var e=this.$store.getters.getFieldListEmptyMandatory({containerUuid:this.containerUuid});this.$message({message:this.$t("notifications.mandatoryFieldMissing")+e,type:"info"})}},setFocus:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var i=e.fieldsList.find((function(t){if(Object.prototype.hasOwnProperty.call(e.$refs,t.columnName)&&Object(J["a"])(t)&&!t.isReadOnly&&t.isUpdateable)return!0}));e.$refs[i.columnName][0].focusField(),t()})));case 1:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.oldgetDataDetail=e.getterDataRecords.map((function(e){return e.id})),e.newgetDataDetail=e.oldgetDataDetail.slice(),e.$nextTick((function(){e.setSort()}));case 3:case"end":return t.stop()}}),t)})))()},setSort:function(){var e=this;if(!this.isMobile){var t=this.$refs.multipleTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.sortable=l["default"].create(t,{ghostClass:"sortable-ghost",setData:function(e){e.setData("Text","")},onEnd:function(t){var i=e.getterDataRecords.splice(t.oldIndex,1)[0];e.getterDataRecords.splice(t.newIndex,0,i);var n=e.newgetDataDetail.splice(t.oldIndex,1)[0];e.newgetDataDetail.splice(t.newIndex,0,n)}})}},changeOrder:function(){return this.getterDataRecords.reverse()},cellClass:function(e){var t="";return e.isReadOnly&&(t+="cell-no-edit"),"FieldNumber"===e.componentPath&&(t+=" cell-align-right"),t},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},confirmEdit:function(e){var t=this.$store.getters.getFieldListEmptyMandatory({containerUuid:this.containerUuid,row:e});return e.isNew?(e.isEdit=!0,void this.$message({message:this.$t("notifications.mandatoryFieldMissing")+t,type:"info"})):e.isEdit&&t?(e.isEdit=!1,void this.$message({message:this.$t("notifications.mandatoryFieldMissing")+t,type:"info"})):void(e.isEdit=!1)},handleRowClick:function(e,t,i){if(this.currentTable=this.getterDataRecords.findIndex((function(t){return t.UUID===e.UUID})),this.isShowedPanelRecord&&this.isParent){this.uuidCurrentRecordSelected!==e.UUID&&(this.uuidCurrentRecordSelected=e.UUID,this.$store.dispatch("setDataLog",{}));var n=this.getterPanel.tableName;this.$router.push({name:this.$route.name,query:Object(r["a"])(Object(r["a"])({},this.$route.query),{},{action:e.UUID}),params:Object(r["a"])(Object(r["a"])({},this.$router.params),{},{tableName:n,recordId:e["".concat(n,"_ID")]})}).catch((function(e){console.info("DataTable Component: ".concat(e.name,", ").concat(e.message))}))}else e.isEdit||(e.isEdit=!0)},handleRowDblClick:function(e,t,i){this.isShowedPanelRecord||this.confirmEdit(e)},handleSelection:function(e,t){this.$store.dispatch("setSelection",{containerUuid:this.containerUuid,selection:e})},isAllSelected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>0){var t=this.getterDataRecords;return t.length===e}return!1},handleSelectionAll:function(e){this.$store.dispatch("setSelection",{containerUuid:this.containerUuid,selection:e})},filterResult:function(){var e=this,t=this.getterDataRecords.filter((function(t){if(e.searchTable.trim().length){var i=!1;return Object.keys(t).forEach((function(n){if(String(t[n]).toLowerCase().includes(String(e.searchTable).toLowerCase()))return i=!0,i})),i}return!0}));return t},isDisplayed:function(e){var t=e.isDisplayed&&e.isDisplayedFromLogic&&e.isShowedTableFromUser&&!e.isKey;return e.isActive&&t},getPanel:function(){var e=this;!this.isPanelWindow||this.isParent||this.getterPanel||this.$store.dispatch("getPanelAndFields",{containerUuid:this.containerUuid,parentUuid:this.parentUuid,panelType:this.panelType}).then((function(t){e.isLoadPanelFromServer=!0})).catch((function(e){console.warn("Fields List Load Error ".concat(e.code,": ").concat(e.message,"."))}))},getSummaries:function(e){var t=this,i=e.columns,n=[];if(this.getterPanel.isShowedTotals)return i.forEach((function(e,i){if(0!==i){var a=t.fieldsList.find((function(t){return t.columnName===e.property}));if(P["g"].includes(a.displayType)){var r=t.getDataSelection.map((function(t){return Number(t[e.property])}));if(r.every((function(e){return isNaN(e)})))n[i]=0;else{var s=r.reduce((function(e,t){var i=Number(t);return isNaN(i)?e:e+t}),0);n[i]=t.formatNumber({displayType:a.displayType,number:s})}}else n[i]=""}else n[i]="Σ"})),n},formatNumber:function(e){var t=e.displayType,i=e.number,n=0;return P["e"].includes(t)&&(n=2),(new Intl.NumberFormat).format(i.toFixed(n))},handleChangePage:function(e){this.$store.dispatch("setPageNumber",{parentUuid:this.parentUuid,containerUuid:this.containerUuid,pageNumber:e,panelType:this.panelType})},click:function(){this.showTableSearch=!this.showTableSearch,this.showTableSearch&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},getFieldDefinition:function(e,t){var i="";return!e||this.isEmptyValue(e.id)&&!e.conditionsList.length||e.conditionsList.forEach((function(e){var n=X["a"].parseDepends(e.condition),a=e.condition;n.forEach((function(e){a=a.replace(/@/g,""),a=a.replace(e,t[e]),a=X["a"].evaluateLogic({logic:a})})),a&&e.isActive&&(i=e.styleSheet)})),i}}},Z=Y,G=(i("9257"),i("02e1"),i("4675"),Object(p["a"])(Z,n,a,!1,null,"195488e2",null));t["a"]=G.exports},"5a8c":function(e,t,i){},9257:function(e,t,i){"use strict";var n=i("5a8c"),a=i.n(n);a.a},a623:function(e,t,i){"use strict";var n=i("23e7"),a=i("b727").every,r=i("a640"),s=i("ae40"),o=r("every"),l=s("every");n({target:"Array",proto:!0,forced:!o||!l},{every:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},a7d0:function(e,t,i){},aad5:function(e,t,i){},c19f:function(e,t,i){"use strict";var n=i("23e7"),a=i("da84"),r=i("621a"),s=i("2626"),o="ArrayBuffer",l=r[o],c=a[o];n({global:!0,forced:c!==l},{ArrayBuffer:l}),s(o)},cddd:function(e,t,i){"use strict";i.r(t),i.d(t,"export_txt_to_zip",(function(){return r}));i("4160"),i("d3b7"),i("25f0"),i("159b");var n=i("c4e3"),a=i.n(n);function r(e,t,i,n){var r=new a.a,s=i||"file",o=n||"file",l=t,c="".concat(e,"\r\n");l.forEach((function(e){var t="";t=e.toString(),c+="".concat(t,"\r\n")})),r.file("".concat(s,".txt"),c),r.generateAsync({type:"blob"}).then((function(e){saveAs(e,"".concat(o,".zip"))}),(function(e){alert("导出失败")}))}i("0fd4")},cff1:function(e,t,i){"use strict";i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return l}));i("4160"),i("d81d"),i("b64b"),i("159b");var n=i("4bf8"),a=i("cddd"),r=i("9923"),s={xlsx:r["default"].t("report.ExportXlsx"),xls:r["default"].t("report.ExportXls"),xml:r["default"].t("report.ExporXml"),csv:r["default"].t("report.ExporCsv"),txt:r["default"].t("report.ExportTxt"),html:r["default"].t("report.ExportHtml")};function o(e){var t=e.header,i=e.data,a=e.exportType,s=i.map((function(e){return Object.keys(e).forEach((function(t){"boolean"===typeof e[t]&&(e[t]=e[t]?r["default"].t("components.switchActiveText"):r["default"].t("components.switchInactiveText"))})),e}));Object(n["export_json_to_excel"])({header:t,data:s,filename:"",bookType:a})}function l(e){var t=e.header,i=e.data,n=e.title,s=i.map((function(e){return Object.keys(e).forEach((function(t){"boolean"===typeof e[t]&&(e[t]=e[t]?r["default"].t("components.switchActiveText"):r["default"].t("components.switchInactiveText"))})),e}));Object(a["export_txt_to_zip"])(t,s,n)}},da47:function(e,t,i){},ea4c:function(e,t,i){},ea97:function(e,t,i){"use strict";var n=i("2b59"),a=i.n(n);a.a},f7f9:function(e,t,i){"use strict";var n=i("da47"),a=i.n(n);a.a}}]);