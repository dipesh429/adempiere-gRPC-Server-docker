(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36c16111"],{"318a":function(s,o,t){"use strict";var e=t("4b36"),a=t.n(e);a.a},"4b36":function(s,o,t){},"8d52":function(s,o,t){"use strict";t.r(o);var e=function(){var s=this,o=s.$createElement,t=s._self._c||o;return s.verifyToken()?t("div",{staticClass:"login-container"},[t("el-form",{ref:"changePasswordForm",staticClass:"login-form",attrs:{rules:s.passwordResetRules,model:s.changePasswordForm,"auto-complete":"off","label-position":"left"}},[t("el-row",[t("el-col",{attrs:{span:3}},[t("img",{staticClass:"image",attrs:{src:"https://avatars1.githubusercontent.com/u/1263359?s=200&v=4"}})]),t("el-col",{attrs:{span:20}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[s._v(" "+s._s(s.$t("login."+s.formName))+" ")]),t("lang-select",{staticClass:"set-language"})],1)])],1),t("el-tooltip",{attrs:{content:s.$t("login.capsLock"),placement:"right","auto-complete":"off",manual:""},model:{value:s.capsTooltip,callback:function(o){s.capsTooltip=o},expression:"capsTooltip"}},[t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{key:s.passwordType,ref:"password",attrs:{type:s.passwordType,placeholder:s.$t("login.passwordNew"),tabindex:"1","auto-complete":"off"},on:{blur:function(o){s.capsTooltip=!1}},nativeOn:{keyup:function(o){return s.checkCapslock(o)}},model:{value:s.changePasswordForm.password,callback:function(o){s.$set(s.changePasswordForm,"password",o)},expression:"changePasswordForm.password"}}),t("span",{staticClass:"show-pwd",on:{click:s.showPwd}},[t("svg-icon",{attrs:{"icon-class":"password"===s.passwordType?"eye":"eye-open"}})],1)],1)],1),t("el-tooltip",{attrs:{content:s.$t("login.capsLock"),placement:"right",manual:""},model:{value:s.capsTooltipNew,callback:function(o){s.capsTooltipNew=o},expression:"capsTooltipNew"}},[t("el-form-item",{attrs:{prop:"passwordConfirm"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{key:s.passwordConfirmType+"New",ref:"passwordConfirm",attrs:{type:s.passwordConfirmType,placeholder:s.$t("login.passwordConfirmNew"),tabindex:"2","auto-complete":"off"},on:{blur:function(o){s.capsTooltipNew=!1}},nativeOn:{keyup:[function(o){return s.checkCapslockNew(o)},function(o){return!o.type.indexOf("key")&&s._k(o.keyCode,"enter",13,o.key,"Enter")?null:s.handleSubmit(o)}]},model:{value:s.changePasswordForm.passwordConfirm,callback:function(o){s.$set(s.changePasswordForm,"passwordConfirm",o)},expression:"changePasswordForm.passwordConfirm"}}),t("span",{staticClass:"show-pwd",on:{click:s.showPasswordConfirm}},[t("svg-icon",{attrs:{"icon-class":"password"===s.passwordConfirmType?"eye":"eye-open"}})],1)],1)],1),t("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{disabled:s.isDisabled,loading:s.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),s.handleSubmit(o)}}},[s._v(" "+s._s(s.$t("login.submit"))+" ")]),t("el-button",{staticStyle:{float:"left"},attrs:{type:"text"},nativeOn:{click:function(o){return o.preventDefault(),s.pathRedirect("login")}}},[s._v(" "+s._s(s.$t("login.title"))+" ")])],1)],1):s._e()},a=[],r=(t("99af"),t("b0c0"),t("d3b7"),t("c69c")),n=t("f5a6"),i=t("8839"),c=t("9923"),p=t("a18c"),l={name:"ChangePassword",mixins:[r["a"]],data:function(){var s=this,o=function(o,t,e){s.isEmptyValue(t)?e(new Error(s.$t("notifications.fieldMandatory"))):e()},t=function(o,t,e){s.isEmptyValue(t)?e(new Error(s.$t("notifications.fieldMandatory"))):t!==s.changePasswordForm.password?e(new Error(s.$t("login.passwordAndConfirmNotMatch"))):e()};return{changePasswordForm:{password:"",passwordConfirm:""},passwordResetRules:{password:[{validator:o,trigger:"blur"}],passwordConfirm:[{validator:t,trigger:"blur"}]},loading:!1,passwordType:"password",passwordConfirmType:"password",capsTooltip:!1,capsTooltipNew:!1}},computed:{formName:function(){return this.$route.name},isDisabled:function(){return!!this.isEmptyValue(this.changePasswordForm.password)||this.changePasswordForm.password!==this.changePasswordForm.passwordConfirm}},methods:{checkCapslock:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=s.shiftKey,t=s.key,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!1;t&&1===t.length&&(a=!!(o&&t>="a"&&t<="z"||!o&&t>="A"&&t<="Z")),"CapsLock"===t&&!0===a&&(a=!1),e?this.capsTooltipNew=a:this.capsTooltip=a},checkCapslockNew:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=s.shiftKey,t=s.key;this.checkCapslock({shiftKey:o,key:t},!0)},showPasswordConfirm:function(){var s=this;"password"===this.passwordConfirmType?this.passwordConfirmType="":this.passwordConfirmType="password",this.$nextTick((function(){s.$refs.passwordConfirm.focus()}))},handleSubmit:function(){this.isEmptyValue(this.changePasswordForm.password)||this.isEmptyValue(this.changePasswordForm.passwordConfirm)||(this.loading=!0,this.createPasswordFromToken({token:this.$route.query.token,password:this.changePasswordForm.password}))},createPasswordFromToken:function(s){var o=s.token,t=s.password;Object(n["c"])({token:o,password:t}).then((function(s){"OK"===s.responseTypeStatus?Object(i["a"])({message:c["default"].t("login.createPasswordSuccessful"),type:"success"}):Object(i["a"])({message:c["default"].t("login.unexpectedError"),type:"error"}),p["b"].push({path:"login"})})).catch((function(s){Object(i["a"])({message:c["default"].t("login.unexpectedError"),type:"error"}),console.warn("Create Password - Error ".concat(s.code,": ").concat(s.message))})).finally(this.loading=!1)},verifyToken:function(){return!(!this.$route.query||!this.$route.query.token||this.isEmptyValue(this.$route.query.token))||(this.$message.error(this.$t("login.invalidToken")),this.$router.push({path:"login"}),!1)}}},d=l,u=(t("318a"),t("adea"),t("2877")),w=Object(u["a"])(d,e,a,!1,null,"88f4438a",null);o["default"]=w.exports},adea:function(s,o,t){"use strict";var e=t("b087"),a=t.n(e);a.a},b087:function(s,o,t){},c69c:function(s,o,t){"use strict";t.d(o,"a",(function(){return a}));var e=t("1131"),a={name:"loginMixin",components:{LangSelect:e["a"]},methods:{showPwd:function(){var s=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){s.$refs.password.focus()}))},pathRedirect:function(s){this.$router.push({path:s})}}}}}]);