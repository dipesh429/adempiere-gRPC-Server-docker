(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a3bbaa8"],{"0dea":function(t,e,r){"use strict";var o=r("8ee3"),s=r.n(o);s.a},"8ee3":function(t,e,r){},"9f72":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isLoading?r("div",{key:"report-viewer-loaded",staticStyle:{"min-height":"inherit"}},[t.showContextMenu?r("context-menu",{attrs:{"container-uuid":t.reportResult.processUuid,"panel-type":t.panelType,"is-report":!0,"last-parameter":t.reportResult.processUuid,"report-format":t.reportFormat}}):t._e(),r("el-row",{staticStyle:{"min-height":"inherit"},attrs:{type:"flex"}},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"content"},[r("h3",{staticClass:"text-center",staticStyle:{margin:"0 !important"}},[t.isEmptyValue(t.processMetadata.help)?t._e():r("el-popover",{ref:"helpTitle",attrs:{placement:"top-start",title:t.reportTitle,width:"400",trigger:"hover"}},[r("div",{domProps:{innerHTML:t._s(t.processMetadata.help)}})]),r("el-button",{directives:[{name:"popover",rawName:"v-popover:helpTitle",arg:"helpTitle"}],staticClass:"title",attrs:{type:"text"}},[t._v(" "+t._s(t.reportTitle)+" ")])],1),"pdf"===t.reportFormat?r("iframe",{key:"report-content-pdf",staticClass:"content-api",attrs:{src:t.url,width:"100%",height:"100%"}}):t.collectionReportFormat.includes(t.reportFormat)?r("div",{key:"report-content-all",staticClass:"content-api",attrs:{src:t.url}}):"html"===t.reportFormat?r("div",{key:"report-content-html",staticClass:"content-txt"},[r("el-container",{staticClass:"sub-content-html"},[r("el-main",{staticStyle:{padding:"0"}},[r("div",{staticClass:"el-table--striped el-table--border el-table--scrollable-y el-table--scrollable-x",domProps:{innerHTML:t._s(t.reportContent)}})])],1)],1):t._e()])])],1),r("modal-dialog",{attrs:{metadata:t.processMetadata,"parent-uuid":t.reportResult.processUuid,"report-export-type":t.reportFormat,"panel-type":t.panelType}})],1):r("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isLoading,expression:"!isLoading"}],key:"report-viewer-loading",staticClass:"loading-report-viewer",attrs:{"element-loading-text":t.$t("notifications.loading"),"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"}})},s=[],i=(r("b0c0"),r("7d13")),a=r("5c32"),n=r("8839"),p={name:"ReportViewer",components:{ContextMenu:i["a"],ModalDialog:a["a"]},data:function(){return{panelType:"process",processMetadata:{},reportFormat:"",collectionReportFormat:["ps","xml","pdf","txt","ssv","csv","xls","xlsx","arxml"],reportContent:"",isLoading:!1,reportResult:{}}},computed:{showContextMenu:function(){return this.$store.state.settings.showContextMenu},getterProcess:function(){return this.$store.getters.getProcessById(this.$route.params.processId)},reportTitle:function(){return this.processMetadata.name||this.$route.meta.title},url:function(){return this.$store.getters.getProcessResult.url},getterCachedReport:function(){return this.$store.getters.getCachedReport(this.$route.params.instanceUuid)}},created:function(){this.processMetadata=this.getterProcess},mounted:function(){this.getCachedReport(),this.$route.meta.reportFormat=this.reportFormat},methods:{showNotification:n["b"],displayReport:function(t){if(!t.isError){var e=t.output;this.reportFormat=this.isEmptyValue(e.reportType)?t.reportType:e.reportType,this.reportContent=this.isEmptyValue(e.output)?t.output:e.output,this.isLoading=!0}},getCachedReport:function(){var t=this;this.reportResult=this.getterCachedReport,void 0===this.reportResult?this.$store.dispatch("getSessionProcessFromServer").then((function(e){if(t.reportResult=t.getterCachedReport,void 0===t.reportResult)return t.showNotification({type:"error",title:"error",message:"requestError"}),void t.$store.dispatch("tagsView/delView",t.$route).then((function(e){e.visitedViews;t.$router.push("/")}));t.displayReport(t.reportResult)})):this.displayReport(this.reportResult)}}},l=p,c=(r("0dea"),r("2877")),u=Object(c["a"])(l,o,s,!1,null,"43e2d61e",null);e["default"]=u.exports}}]);